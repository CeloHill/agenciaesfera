<template>
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-section">
        <div class="contact-info">
          <div>
            <a href="mailto:agenciaesfera@agenciaesfera.com.br" class="email">
              agenciaesfera@agenciaesfera.com.br
            </a>
          </div>  
          <div class="address-phone-container">
            <div class="address">
              <div class="first-line">Av. Rep. Argentina, 1228</div>
              <div>Água Verde, Curitiba - PR, 80610-260</div>
            </div>
            <div class="phone">
              (41) 3340-4300
            </div>
          </div>
        </div>
      </div>
      
      <div class="footer-section">
        <div class="navigation">
          <div class="nav-item">Conheça a Esfera</div>
          <div class="nav-item">Paixão por fazer</div>
          <div class="nav-item">Let's talk</div>
        </div>
      </div>
    </div>
    
    <div class="footer-brand">
      <div class="social-icons">
        <a href="#" class="social-icon" aria-label="LinkedIn">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4.15625 18H0.523438V6.32031H4.15625V18ZM2.32031 4.75781C1.1875 4.75781 0.25 3.78125 0.25 2.60938C0.25 1.00781 1.96875 -0.0078125 3.375 0.8125C4.03906 1.16406 4.42969 1.86719 4.42969 2.60938C4.42969 3.78125 3.49219 4.75781 2.32031 4.75781ZM17.7109 18H14.1172V12.3359C14.1172 10.9688 14.0781 9.25 12.2031 9.25C10.3281 9.25 10.0547 10.6953 10.0547 12.2188V18H6.42188V6.32031H9.89844V7.92188H9.9375C10.4453 7.02344 11.6172 6.04688 13.375 6.04688C17.0469 6.04688 17.75 8.46875 17.75 11.5938V18H17.7109Z" fill="currentColor"/>
          </svg>
        </a>
        <a href="#" class="social-icon" aria-label="Instagram">
          <svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 5.00781C11.4609 5.00781 13.4922 7.03906 13.4922 9.5C13.4922 12 11.4609 13.9922 9 13.9922C6.5 13.9922 4.50781 12 4.50781 9.5C4.50781 7.03906 6.5 5.00781 9 5.00781ZM9 12.4297C10.6016 12.4297 11.8906 11.1406 11.8906 9.5C11.8906 7.89844 10.6016 6.60938 9 6.60938C7.35938 6.60938 6.07031 7.89844 6.07031 9.5C6.07031 11.1406 7.39844 12.4297 9 12.4297ZM14.7031 4.85156C14.7031 4.26562 14.2344 3.79688 13.6484 3.79688C13.0625 3.79688 12.5938 4.26562 12.5938 4.85156C12.5938 5.4375 13.0625 5.90625 13.6484 5.90625C14.2344 5.90625 14.7031 5.4375 14.7031 4.85156ZM17.6719 5.90625C17.75 7.35156 17.75 11.6875 17.6719 13.1328C17.5938 14.5391 17.2812 15.75 16.2656 16.8047C15.25 17.8203 14 18.1328 12.5938 18.2109C11.1484 18.2891 6.8125 18.2891 5.36719 18.2109C3.96094 18.1328 2.75 17.8203 1.69531 16.8047C0.679688 15.75 0.367188 14.5391 0.289062 13.1328C0.210938 11.6875 0.210938 7.35156 0.289062 5.90625C0.367188 4.5 0.679688 3.25 1.69531 2.23438C2.75 1.21875 3.96094 0.90625 5.36719 0.828125C6.8125 0.75 11.1484 0.75 12.5938 0.828125C14 0.90625 15.25 1.21875 16.2656 2.23438C17.2812 3.25 17.5938 4.5 17.6719 5.90625ZM15.7969 14.6562C16.2656 13.5234 16.1484 10.7891 16.1484 9.5C16.1484 8.25 16.2656 5.51562 15.7969 4.34375C15.4844 3.60156 14.8984 2.97656 14.1562 2.70312C12.9844 2.23438 10.25 2.35156 9 2.35156C7.71094 2.35156 4.97656 2.23438 3.84375 2.70312C3.0625 3.01562 2.47656 3.60156 2.16406 4.34375C1.69531 5.51562 1.8125 8.25 1.8125 9.5C1.8125 10.7891 1.69531 13.5234 2.16406 14.6562C2.47656 15.4375 3.0625 16.0234 3.84375 16.3359C4.97656 16.8047 7.71094 16.6875 9 16.6875C10.25 16.6875 12.9844 16.8047 14.1562 16.3359C14.8984 16.0234 15.5234 15.4375 15.7969 14.6562Z" fill="currentColor"/>
          </svg>
        </a>
      </div>
      <div class="brand-logo">
        <img src="/images/logos/logo-dark.png" alt="Agência Esfera" class="logo-image">
      </div>
       <div class="brand-bg">
         <div class="icon-image"></div>
       </div>
    </div>

    <div class="footer-bottom">
      <div class="copyright">
        © 2025 Esfera. Todos os direitos reservados
      </div>
      <div class="privacy">
        <a href="#" class="privacy-link">Política de privacidade</a>
      </div>
    </div>
    
  </footer>
</template>

<script setup>
const { gsap, ScrollTrigger } = useGsap()

onMounted(() => {
  if (process.client) {
    nextTick(() => {
      animateFooterElements()
    })
  }
})

const animateFooterElements = () => {
  const socialIcons = document.querySelector('.social-icons')
  const addressPhoneContainer = document.querySelector('.address-phone-container')
  const navigation = document.querySelector('.navigation')
  const logoEsfera = document.querySelector('.brand-logo')
  const iconEsfera = document.querySelector('.brand-bg')
  
  if (addressPhoneContainer) {
    gsap.set(addressPhoneContainer, { 
      y: -50,
      opacity: 0,
      filter: "blur(10px)",
      transform: "translateX(-140px)",
      scale: 0.5
    })
    
    gsap.set(socialIcons, { 
      y: -150,
      opacity: 0,
      filter: "blur(10px)",
      transform: "translateX(-25px)",
      scale: 0.5
    })

    gsap.set(logoEsfera, { 
      y: -150,
      opacity: 0,
      filter: "blur(10px)"
    })

    gsap.set(iconEsfera, { 
      opacity: 0,
      filter: "blur(10px)"
    })

    ScrollTrigger.create({
      trigger: addressPhoneContainer,
      start: "top 80%",
      once: true,
      onEnter: () => {
        gsap.to(addressPhoneContainer, {
          y: 0,
          duration: 1.0,
          ease: "power2.out",
          opacity: 1, 
          filter: "blur(0px)",
          transform: "translateX(0px)",
          scale: 1
        })
        
        gsap.to(socialIcons, {
          y: 0,
          duration: 1.8,
          ease: "power2.out",
          opacity: 1,
          filter: "blur(0px)",
          transform: "translateX(0px)",
          scale: 1
        })

        gsap.to(logoEsfera, {
          y: 0,
          duration: 1.8,
          opacity: 1,
          filter: "blur(0px)"
        })

        gsap.to(iconEsfera, {
          duration: 1.8,
          opacity: 1,
          filter: "blur(0px)"
        })
      }
    })
  }
  
  if (navigation) {
    gsap.set(navigation, { 
      x: -500,
      y: -70,
      opacity: 0,
      filter: "blur(10px)",
      scale: 0.5
    })
    
    ScrollTrigger.create({
      trigger: navigation,
      start: "top 80%",
      once: true,
      onEnter: () => {
        gsap.to(navigation, {
          x: 0,
          y: 0,
          duration: 2.1,
          opacity: 1,
          filter: "blur(0px)",
          scale: 1,
          ease: "power2.out",
          delay: 0.2
        })
      }
    })
  }
}
</script>

<style scoped>
.footer {
  position: relative;
  background-color: var(--color-white);
  padding: 60px 0 40px;
  font-family: var(--font-family);
  overflow: hidden;
}

.footer-content {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin: 0 auto;
  padding: 0 var(--body-horizontal-padding);
  margin-bottom: 40px;
}

.footer-section {
  flex: 1;

  &:first-of-type {
    padding-right: 40px;
  }
}

.contact-info {
  float: left;
  width: initial;
}

.email {
  font-size: clamp(16px, 2vw, 30px);
  font-weight: var(--font-weight-regular);
  color: var(--color-black);
  text-decoration: none;
  border-bottom: 1px solid var(--color-black);
  padding-bottom: 10px;
  margin-bottom: 30px;
  float: left;
  width: initial;
}

.address {
  font-size: var(--font-size-text);
  font-weight: var(--font-weight-regular);
  color: var(--color-black);
  line-height: 1.4;

  .first-line {
    font-weight: var(--font-weight-semibold);
  }
}

.address-phone-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
}

.social-icons {
  display: flex;
  gap: 15px;
}

.social-icon {
  width: 40px;
  height: 40px;
  border: 1px solid var(--color-medium-gray);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-medium-gray);
  text-decoration: none;
  transition: all 0.3s ease;

  img {
    color: var(--color-medium-gray);
  }
}

.social-icon:hover {
  background-color: var(--color-medium-gray);
  color: var(--color-white);

  img {
    filter: brightness(0) invert(1);
  }
}

.phone {
  font-size: var(--font-size-text);
  font-weight: var(--font-weight-regular);
  color: var(--color-medium-gray);
}

.navigation {
  display: flex;
  flex-direction: column;
  gap: 35px;
  margin-top: 20px;
}

.nav-item {
  font-size: var(--font-size-text);
  font-weight: var(--font-weight-regular);
  color: var(--color-black);
  cursor: pointer;
  transition: color 0.3s ease;
}

.nav-item:hover {
  color: var(--color-gray);
}

.footer-bottom {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 0 auto;
  padding: 0 70px;
  border-top: 1px solid var(--color-light-gray);
  padding-top: 20px;
}

.copyright {
  font-size: 14px;
  font-weight: var(--font-weight-regular);
  color: var(--color-black);
  opacity: 0.5;
}

.privacy-link {
  font-size: 14px;
  font-weight: var(--font-weight-regular);
  color: var(--color-black);
  text-decoration: none;
  transition: color 0.3s ease;
}

.privacy-link:hover {
  color: var(--color-gray);
}

.footer-brand {
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: relative;
  z-index: 1;
  padding: 0 70px;
  margin-bottom: 20px;
}

.brand-logo {
  font-weight: var(--font-weight-semibold);
  color: var(--color-black);
  line-height: 1;
  position: relative;
  z-index: 2;
  .logo-image {
    width: 280px;
  }
}

.brand-bg {
  position: absolute;
  top: -248px;
  right: 0px;
  width: 350px;
  height: 350px;
  border-radius: 50%;
  z-index: 1;

  .icon-image {
    width: 350px;
    height: 350px;
    opacity: 0.1;
    background: url('/images/logos/icon-black.svg') center/cover no-repeat;
    position: relative;
    
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(50deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 1) 62%, rgba(255, 255, 255, 0) 100%);
      background-size: 200% 100%;
      pointer-events: none;
      animation: gradientShift 15s linear infinite;
      filter:blur(20px);
      border-radius: 50%;
    }
  }
}

.contact-info-item {
  float: left;
}

@keyframes gradientShift {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

@media (max-width: 1500px) {
  .address-phone-container {
    flex-direction: column;
    gap: 30px;
    text-align: center;
  }

  .address {
    font-size: 16px;
  }

}

@media (max-width: 768px) {
  .footer-content {
    flex-direction: column;
    gap: 30px;
  }
  
  .footer-bottom {
    flex-direction: column;
    gap: 15px;
    text-align: center;
  }
  
  .brand-logo {
    font-size: 80px;
  }
  
  .brand-bg {
    width: 150px;
    height: 150px;
    top: -30px;
    left: -50px;
  }

  .footer-content {
    align-items: center;
  }

  .footer-brand {
    flex-direction: column;
    align-items: center;
    gap: 30px;
  }

  .navigation {
    align-items: center;
  }

  .footer-section:first-of-type {
    padding-right: 0;
  }

}
</style>
